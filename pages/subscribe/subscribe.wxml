<!--pages/subscribe/subscribe.wxml-->
<view class='container' style='align-items:center;background-color: #4a196b;width:100%;height: {{windowH}}px;'>

  <view wx:for="{{players}}" wx:key='{{item.PlayerId}}' style='width:100%;  display: flex; flex-direction: column;'>
    <view style='width:100%;  display: flex; flex-direction: row;align-items:center '>
      <view class='text-wheat' style='font-size: 34rpx;padding:20rpx 20rpx 20rpx 20rpx;flex-grow:1'>{{item.Name}}#{{item.BattleTag}}{{item.regionName}}</view>
      <view wx:if='{{!item.isMain}}' bindtap='setMain' data-playerid="{{item.PlayerId}}" class='text-wheat' style='font-size: 28rpx;padding:20rpx 20rpx 20rpx 20rpx;'>设置为默认</view>
      <view wx:if='{{item.isMain}}' class='text-wheat' style='font-size: 28rpx;padding:20rpx 20rpx 20rpx 20rpx;'>默认</view>
      <view bindtap='cancelSubscribe' data-playerid="{{item.PlayerId}}" class='text-wheat' style='font-size: 28rpx;padding:20rpx 20rpx 20rpx 20rpx;'>取消订阅</view>
    </view>
    <view class='grayLineStyle' />
  </view>
  <view bindtap='add' class='text-wheat' style='font-size: 32;padding:20rpx 20rpx 20rpx 20rpx;'>添加新角色</view>
  <!--弹窗-->
  <view class="modal-mask" bindtap="hideModal" catchtouchmove="preventTouchMove" wx:if="{{showModal}}"></view>
  <view class="modal-dialog" wx:if="{{showModal}}">
    <view class="modal-title">添加角色</view>
    <view class="modal-content">
      <view class="modal-input">
        <input type="text" class="edit" name="name" placeholder="Nova#1234" bindinput='bindNameInput'/>
      </view>
      <picker bindchange="bindRegionChange" value="{{regionIndex}}" range="{{region}}" class='pickerStyle regionPicker'>
        <view class='text-wheat regionPickerView'>
          <span style='color:#333; margin-top: 20rpx;'>选择地区：{{region[regionIndex]}}</span>
          <image class='pickerArrow' src='/image/spinner_down.png' />
        </view>
      </picker>
    </view>
    <view class="modal-footer">
      <view class="btn-cancel" bindtap="onCancel" data-status="cancel">取消</view>
      <view class="btn-confirm" bindtap="onConfirm" data-status="confirm">确定</view>
    </view>
  </view>
</view>